<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Setting up WPA Enterprise</title>
  <meta name="description" content="With WPA Enterprise, you have the ability to have your users authenticate against a RADIUS server to gain access to the WiFi, adding increased security to yo...">
  <link rel="icon" type="image/png" href="/images/favicon.ico">
  <link rel="stylesheet" href="/css/material.css">
  <link rel="stylesheet" href="/css/site.css">
  <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Roboto:400,700,300' type='text/css'>
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="canonical" href="https://cucumberwifi.io/tutorials/2016/03/16/openwrt-setting-up-wpa-enterprise.html">
  <link rel="alternate" type="application/rss+xml" title="Full-stack Wi-Fi Platform" href="https://cucumberwifi.io/feed.xml" />

  <script src="/js/material.js"></script>

</head>


<body>

  <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
  <header class="mdl-layout__header mdl-layout__header--scroll mdl-shadow--4dp">
    <div class="mdl-layout__header-row">
      <!-- Title -->
      <div class="ct-logo">
        <a href="/"><img src="/images/pages/cucumber-wifi.svg"></a>
      </div>
      <!-- Add spacer, to align navigation to the right -->
      <div class="mdl-layout-spacer"></div>
      <!-- Navigation. We hide it in small screens. -->
      <nav class="mdl-navigation mdl-layout--large-screen-only">
        <a class="mdl-navigation__link" href="/discover/">Discover</a>
        <a style="cursor:pointer;" id="features-list" class="mdl-navigation__link">Features</a>
        <ul class="mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="features-list">
          <a href="/features/management/"><li class="mdl-menu__item">Management</li></a>
          <a href="/features/networks/"><li class="mdl-menu__item">Networks</li></a>
          <a href="/features/branding/"><li class="mdl-menu__item">Branding</li></a>
          <a href="/features/reports/"><li class="mdl-menu__item">Reports</li></a>
          <a href="/features/integrations/"><li class="mdl-menu__item">Integrations</li></a>
          <a href="/features/guests/"><li class="mdl-menu__item">Guest Login</li></a>
        </ul>
        <a class="mdl-navigation__link" href="/compatible-hardware/">Devices</a>
        <a class="mdl-navigation__link" href="/plans/">Plans</a>
        <a class="mdl-navigation__link" target="_blank" href="https://discuss.cucumberwifi.io/">Discuss</a>
        <a class="mdl-navigation__link" href="https://my.ctapp.io/#/create">Sign-up</a>
        <a class="mdl-navigation__link" href="https://my.ctapp.io/#/login">Login</a>
      </nav>
    </div>
  </header>
  <div class="mdl-layout__drawer mdl-layout--small-screen-only mdl-shadow--4dp">
    <nav class="mdl-navigation">
      <span class="sidebar-logo"><img src="/images/pages/cucumber-wifi.svg"></span>
      <a class="mdl-navigation__link" href="/discover/">Discover</a>
      <span class="mdl-navigation__link" href="/discover/">Features</span>
      <hr>
      <div class="navigation-subheader-list">
        <a class="mdl-navigation__link" href="/features/management">Management</a>
        <a class="mdl-navigation__link" href="/features/networks/">Networks</a>
        <a class="mdl-navigation__link" href="/features/branding/">Branding</a>
        <a class="mdl-navigation__link" href="/features/reports/">Reports</a>
        <a class="mdl-navigation__link" href="/features/integrations/">Integrations</a>
        <a class="mdl-navigation__link" href="/features/guests">Guest Login</a>
        <a class="mdl-navigation__link" href="/compatible-hardware/">Devices</a>
      </div>
      <hr>
      <a class="mdl-navigation__link" href="/plans/">Plans</a>
      <a class="mdl-navigation__link" target="_blank" href="https://discuss.cucumberwifi.io/">Discuss</a>
      <a class="mdl-navigation__link" href="https://my.ctapp.io/#/create">Sign-up</a>
      <a class="mdl-navigation__link" href="https://my.ctapp.io/#/login">Login</a>
    </nav>
  </div>
  <main class="mdl-layout__content">
    <div class="community mdl-grid">
  <div class="community-post center-cell mdl-cell mdl-cell--9-col mdl-card mdl-shadow--4dp">
      <h1>Setting up WPA Enterprise</h1>
      <p>Mar 16, 2016</p>
    <p>With WPA Enterprise, you have the ability to have your users authenticate against a RADIUS server to gain access to the WiFi, adding increased security to your network.</p>

<h2 id="ssh-to-your-openwrt-device">SSH to your OpenWRT device</h2>

<p>If you are using Windows then start PuTTY and click Session on the left side, select SSH from the options, and then enter in the IP Address of your OpenWRT box into the Host Name field.</p>

<p>Once you’ve done this just click on Open to start up the SSH connection.</p>

<div class="mdl-typography--text-center">
  <img src="/images/community/tutorials/openwrt/puttyconfig.png" width="400px" />
</div>

<p>If you are connecting via terminal, then just SSH to your OpenWRT device using the following command, where 192.168.1.1 is your OpenWRT device’s IP address.</p>

<p><code>ssh root@192.168.1.1</code></p>

<h2 id="prerequisites">Prerequisites</h2>

<p>This guide covers the steps needed to set up WPA Enterprise on your OpenWRT, but the overall setup requires some other steps to be completed:</p>

<ul>
  <li>A RADIUS server configured on a seperate server, or on your OpenWRT device.</li>
  <li>Configured your OpenWRT device as a client on your RADIUS server.</li>
  <li>Have one or more username and password entries on the RADIUS server.</li>
</ul>

<h2 id="package-installation">Package Installation</h2>
<p>Enterprise WPA is not supported by the wpad-mini package, which comes with OpenWRT as default. So first we need to remove this package.</p>

<p>Run the following two commands:</p>

<p><code>opkg update</code></p>

<p><code>opkg remove wpad-mini</code></p>

<p>Once wpad-mini is removed, we can install a new package that supports Enterprise WPA. In this example we are going to use the full wpad.</p>

<p>Run the following command to install this:</p>

<p><code>opkg install wpad</code></p>

<h2 id="creating-the-interface">Creating The Interface</h2>

<p>Next we need to edit our wireless config file to enable WPA Enterprise authentication.</p>

<p>Run the following command to edit the file:</p>

<p><code>vi /etc/config/wireless</code></p>

<p>Now we are going to create a new interface with the following details:</p>

<pre><code>config 'wifi-iface'
     option device      'radio1'
     option mode        'ap'
     option ssid        'EnterpriseWiFi'
     option network     'lan'
     option encryption  'wpa2'
     option server      '192.168.1.220'
     option port        '1812'
     option key         'ClientPassword'
</code></pre>

<p>Where option server and option port are the details of an external RADIUS we had set up, and option key is the password we have configured for our OpenWRT device on it.</p>

<p>After making these changes, you will need to either restart the process or reboot your box.</p>

<p>To restart the process, run the following command:</p>

<p><code>/etc/init.d/network restart</code></p>

<h3 id="optional-using-the-web-gui">(Optional) Using the web GUI</h3>

<p>You can also make changes to the encryption type through the LuCI interface by navigating through Network &gt; WiFi.</p>

<hr />

<p><em>Cucumber Tony is a cloud based WiFi management platform for businesses. The firmware gives consumer-grade WiFi access points enterprise-like capabilities. Or you can utilise the captive portal solution with your existing infrastructure. Create a free account and check it here <a href="https://cucumberwifi.io">cucumberwifi.io</a></em></p>

<div class="mdl-typography--text-center">

<h2>Come join Cucumber</h2>

<a href="https://my.ctapp.io/#/create" class="button success dst">Sign Up</a><br />

<p>Sign-up for Cucumber Tony, it's free for unlimited access points :)</p>

<hr />

</div>

  </div>
</div>

    <footer class="mdl-mega-footer">

  <div class="mdl-grid">
    <div class="center-cell mdl-cell mdl-cell--10-col">

      <div class=" mdl-mega-footer__middle-section">

        <div class="mdl-mega-footer__drop-down-section">
          <input class="mdl-mega-footer__heading-checkbox" type="checkbox" checked>
          <h1 class="mdl-mega-footer__heading">Product</h1>
          <ul class="mdl-mega-footer__link-list">
            <li><a href="/plans/">Plans</a></li>
            <li><a href="/discover/">Discover</a></li>
            <li><a href="/compatible-hardware/">Compatible Hardware</a></li>
          </ul>
        </div>

        <div class="mdl-mega-footer__drop-down-section">
          <input class="mdl-mega-footer__heading-checkbox" type="checkbox" checked>
          <h1 class="mdl-mega-footer__heading">Helpful</h1>
          <ul class="mdl-mega-footer__link-list">
            <li><a href="http://docs.polkaspots.apiary.io/" target="_blank">API</a></li>
            <li><a href="http://docs.cucumberwifi.io/" target="_blank">Docs</a></li>
            <li><a href="http://status.ctapp.io/" target="_blank">Status</a></li>
            <li><a href="https://discuss.cucumberwifi.io/" target="_blank">Discuss</a></li>
            <li><a href="/community/tutorials/">Tutorials</a></li>
          </ul>
        </div>

        <div class="mdl-mega-footer__drop-down-section">
          <input class="mdl-mega-footer__heading-checkbox" type="checkbox" checked>
          <h1 class="mdl-mega-footer__heading">Company</h1>
          <ul class="mdl-mega-footer__link-list">
            <li><a href="https://medium.com/guest-wifi" target="_blank">Blog</a></li>
            <li><a href="/about/">About Us</a></li>
            <li><a href="/contact/">Contact Us</a></li>
            <li><a href="/case-studies/">Case Studies</a></li>
          </ul>
        </div>

        <!-- <div class="mdl-mega-footer__drop-down-section">
          <input class="mdl-mega-footer__heading-checkbox" type="checkbox" checked>
          <h1 class="mdl-mega-footer__heading">FAQ</h1>
          <ul class="mdl-mega-footer__link-list">
            <li><a href="#">Questions</a></li>
            <li><a href="#">Answers</a></li>
            <li><a href="#">Contact us</a></li>
          </ul>
        </div> -->

      </div>

      <div class="mdl-mega-footer__middle-section footer-social">
        <a href="https://twitter.com/cucumbertony" target="_blank">
          <img class="mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect" src="/images/pages/social/twitter.png"
        </a>
        <a href="https://www.linkedin.com/company/cucumber-tony" target="_blank">
          <img class="mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect" src="/images/pages/social/linkedin.png"
        </a>
        <a href="https://www.facebook.com/cucumbertony/" target="_blank">
          <img class="mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect" src="/images/pages/social/facebook.png"
        </a>
        <a href="https://www.youtube.com/channel/UCpPkREGXYrlontKXB3B3t9A" target="_blank">
          <img class="mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect" src="/images/pages/social/youtube.png"
        </a>
      </div>

    </div>
  </div>

</footer>

  </main>
</div>


</body>

</html>
